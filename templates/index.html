<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EchoMusic: Inicio</title>
    <link rel="stylesheet" href="/static/styles/index.css">
</head>
<body>
    <div class="div_fondo_home">
        <form class="form_buscar" action="#" method="get">
            {% csrf_token %}
            <div class="div_buscar">
                <input class="input_buscar" type="text" placeholder="Buscar">
                <button class="btn_buscar" type="submit"></button>
            </div>
            <a class="btn_perfil" href="{% url 'perfil' %}"></a>
        </form>

        <h1>Tu biblioteca</h1>
        <div class="div_filtros">
            <button class="btn_filtro_act" type="button">Canciones</button>
            <button class="btn_filtro_des" type="button">Álbumes</button>
        </div>

        <div class="div_canciones" id="div_canciones">
            {% if canciones %}
                {% for cancion in canciones %}
                    <div class="div_cancion">
                        <img src="{{ cancion.imagen.url }}" alt="imagen_cancion">
                        <p><strong>{{ cancion.nombre }}</strong></p>
                        <p>{{ cancion.autor }}</p>
                    </div>
                {% endfor %}
            {% else %}
                <h3 class="txt_mensaje_home">No hay canciones guardadas</h3>
            {% endif %}
        </div>

        <div class="div_albumes" id="div_albumes">
            {% if albumes %}
                {% for album in albumes %}
                    <div class="div_album">
                        <img src="{{ album.imagen.url }}" alt="imagen_album">
                        <p><strong>{{ album.nombre }}</strong></p>
                    </div>
                {% endfor %}
            {% else %}
                <h3>No hay álbumes creados</h3>
            {% endif %}
        </div>

        <div class="div_botones_home">
            <button class="btn_crear" type="button">Crear</button>
            <button class="btn_subir" type="button" id="btn_subir"></button>
        </div>
    </div>

    <div class="div_fondo" id="div_fondo_crear">
        <form class="div_subir" action="#" enctype="multipart/form-data">
            {% csrf_token %}
            <div class="div_image_form">
                <img class="btn_image" src="/static/images/icons/img_album.svg" id="btn_image_album" alt="imagen_álbum">
                <input id="input_imagen_crear" type="file" style="display: none;" name="imagen">
            </div>
            
            <input class="input_form" type="text" placeholder="Nombre del álbum">
            <textarea class="txt_descripcion" name="descripcion" placeholder="Descripción del álbum"></textarea>
        </form>
    </div>

    <div class="div_fondo" id="div_fondo_subir">
        <form class="div_subir" action="{% url 'subir_cancion' %}" enctype="multipart/form-data" method="post">
            {% csrf_token %}
            <h1 class="titulo_form">Subir una canción</h1>

            <div class="div_image_form">
                <div class="btn_image_hover" id="btn_image_cancion_hover"></div>
                <img class="btn_image" src="/static/images/icons/img_album.svg" id="btn_image_cancion" alt="imagen_canción">
            </div>

            <input id="input_imagen_subir" type="file" style="display: none;" name="imagen_cancion">
            <input class="input_form" id="input_nombre_cancion" type="text" placeholder="Nombre de la canción" name="nombre">
            <input class="input_form" id="input_autor_cancion" type="text" placeholder="Autor de la canción" name="autor">
            <button class="btn_archivo" type="button" id="btn_archivo">Seleccionar archivo</button>
            <input id="input_archivo" style="display: none;" type="file" name="archivo">

            <div class="div_botones_subir">
                <button type="submit" class="btn_subir_cancion">Subir</button>
                <button type="button" class="btn_cancelar_cancion" id="btn_cancelar_cancion">Cancelar</button>
            </div>
        </form>
    </div>

    <script src="/static/scripts/index.js"></script>
</body>
</html>